////
Copyright (c) 2016, Christoph Engelbert (aka noctarius) and
contributors. All rights reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
////
= borabora - lazy CBOR parsing
Christoph Engelbert <https://github.com/noctarius[@noctarius2k]>
// Settings:
:compat-mode!:
:idseparator: -
// Aliases:
:project-name: tengi README
:project-handle: tengi-readme
:toc:

|===
| image:https://raw.githubusercontent.com/noctarius/borabora/master/borabora_250_250.png[] | borabora is a link:http://cbor.io[CBOR] parser and generator library. In difference to other existing CBOR libraries, borabora handles parsing and data extraction (deserialization) as lazy as possible. While writing CBOR values, borabora goes the other way around and emits the bytes immediately, therefore elements can be directly sent to sockets. Another difference is the way borabora extracts data using queries. 
|===

== Documentation
=== JavaDoc
link:http://noctarius.github.io/borabora/[Javadoc]

== Features
=== Parser
==== Parsing and Values
===== Data Types
===== Value
===== Sequences
===== Dictionaries
==== Graph Queries
==== Select Queries
==== Continuous Query
==== Semantic Tags
=== Writer
==== Stream Generation
==== Sequences
==== Dictionaries
==== Semantic Tags
=== Extending borabora
== Query Language Specification

Expression: +
{nbsp}{nbsp}{nbsp}{nbsp} _QueryExpression_ | _SelectExpression_

SelectExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} *(*, _AsDictionaryExpression_ | _AsSequenceExpression_, *)*

AsDictionaryExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} _DictionaryPropertyExpression_, *,*, _DictionaryPropertyExpression_*

DictionaryPropertyExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} _PropertyNameExpression_, *:*, _SelectQueryExpression_

PropertyNameExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} _StringLiteral_ | _SignedIntLiteral_ | _FloatLiteral_

AsSequenceExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} _SequenceEntryExpression_, *,*, _SequenceEntryExpression_*

SequenceEntryExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} _SelectQueryExpression_

QueryExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} (_StreamSingleElementExpression_ | _StreamMultiElementExpression_), _QueryStageExpression_*

QueryStageExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} _DictionaryQueryExpression_ | _SequenceQueryExpression_ | _TypeMatchExpression_

DictionaryQueryExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} *{*, (_StringLiteral_ | _SignedIntLiteral_ | _FloatLiteral_), *}*

SequenceQueryExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} *(*, _SequenceIndexExpression_, *)*

SequenceIndexExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} _UnsignedIntLiteral_ | _AnyIndex_

AnyIndex: +
{nbsp}{nbsp}{nbsp}{nbsp} *?*

StreamSingleElementExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} *#*, ([0-9][0-9]*)?

StreamMultiElementExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} *$*

TypeMatchExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} _RequireTypeExpression_ | _TypeOrNullExpression_

RequireTypeExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} *->*, _TypeSpecification_

TypeOrNullExpression: +
{nbsp}{nbsp}{nbsp}{nbsp} *->?*, _TypeSpecification_

TypeSpecifications: +
{nbsp}{nbsp}{nbsp}{nbsp} *number*
    | *int*
    | *uint*
    | *nint*
    | *float*
    | *string*
    | *dictionary*
    | *sequence*
    | *tag*
    | *tag$*, [0-9][0-9]*
    | *bool*
    | *datetime*
    | *timestamp*
    | *uri*
    | *enccbor*
    | *unknown*
    | *null*